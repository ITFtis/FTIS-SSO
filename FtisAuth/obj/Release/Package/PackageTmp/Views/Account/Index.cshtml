@model FtisHelperV2.DB.Model.F22cmmEmpData

@{
    ViewBag.Title = "Index";
}

@if (Request.IsAuthenticated)
{
<div class="row">
    @*@{var sdd = System.Security.Claims.ClaimsPrincipal.Current.Claims.FirstOrDefault(s => s.Type == "name")?.Value;
    <h2>使用者:@sdd</h2>
        }*@
    @if (ViewBag.usernotfind == null)
    {
        <div class="col">
            <h2>員工資訊</h2>
            <table class="table table-striped table-bordered table-hover table-condensed">
                @MvcHtmlString.Create(ViewBag.empstr)
            </table>
            @*<h3>@ViewBag.emp</h3>*@
        </div>
        <div class="col">
            <h2>部門資訊</h2>
            <table class="table table-striped table-bordered table-hover table-condensed">
                @MvcHtmlString.Create(ViewBag.depstr)
            </table>
            @*    <h3>@ViewBag.dep</h3>*@
        </div>

    }
    else
    {
        var n = System.Security.Claims.ClaimsPrincipal.Current.Claims.FirstOrDefault(s => s.Type == "name")?.Value;
        <h2>使用者:@(n+"("+ User.Identity.Name + ")") 不存在系統資料請洽管理人員!!</h2>
    }
</div>
<div class="row">
    <div class="col">
        <h2>AD資訊</h2>
        <table class="table table-striped table-bordered table-hover table-condensed">
            @foreach (var claim in System.Security.Claims.ClaimsPrincipal.Current.Claims)
            {
                <tr><td>@claim.Type</td><td>@claim.Value</td></tr>
            }
        </table>
    </div>
</div>

}
else
{
    <h2>尚未登入!!</h2>
}

